<?xml version="1.0" encoding="UTF-8"?>
<!-- 
	Le rechargement du fichier de configuration peut se faire dans le code, mais cela est inutile car l’API
	peut le faire pour nous. Elle scanne automatiquement le fichier et recharge la configuration si celui-ci
	change !
	Un simple attribut en plus au XML de configuration permet de le faire :
		<configuration scan="true">
	
	Par défaut le fichier est scanné toutes les minutes, mais il est possible de le spécifier :
		<configuration scan="true" scanPeriod="30 seconds" >
-->
<configuration>
	<appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
		<layout class="ch.qos.logback.classic.PatternLayout">
			<pattern>[%d{HH:mm:ss.SSS}][%-5p][%c{1},%L] %-58m    %ex{short} %n</pattern>
    	</layout>
	</appender>


	<!-- 
	 Rappel sur les différents niveaux d'erreur :
	  * error : utilisé pour journaliser une erreur qui n'empêche cependant pas l'application de fonctionner;
	  * warn  : utilisé pour journaliser un avertissement, il peut s'agir par exemple d'une incohérence dans la configuration, l'application peut continuer à fonctionner mais pas forcément de la facon attendue;
	  * info  : utilisé pour journaliser des messages à caractère informatif (nom des fichiers, etc.);
	  * debug : utilisé pour générer des messages pouvant être utiles au débogage;
	  * trace : encore plus verbeux que DEBUG
	-->
 
	<root level="debug">
	   <appender-ref ref="CONSOLE" />
	</root>
  
	<!-- Niveau de log racine pour le code MM & MIPIH -->
	<logger name="fr.mm" level="ERROR"/>
	<logger name="fr.mipih" level="ERROR"/>
	<logger name="fr.mipih.diapason" level="debug" />

	<!-- Pour ne plus voir ce type de warning
	[ WARN][  f.m.f.s.c.MSessionScope] Récupération d'une instance hors d'un scope web (cas normal si l'appel a été fait hors d'un contexte web. Par exemple : au démarrage de tomcat, dans un cron, dans un "batch"...). 
	 -->
	<logger name="fr.mm.foundation.spring.context" level="error" />
	<logger name="fr.mm.foundation.application" level="error" />


	<!-- Niveau de log security du socle -->
	<logger name="fr.mipih.foundation.security" level="warn"/>
	<logger name="fr.mipih.security.authentication" level="warn"/>
	
	<!--
	 Hibernate : Affiche les requêtes SQL envoyées à la base
	-->
	<logger name="org.hibernate.SQL" level="ERROR"/>
	<logger name="org.hibernate.type" level="error"/>
	<logger name="org.hibernate.transaction" level="error"/>
	<logger name="org.hibernate.LazyInitializationException" level="off"/>
	<logger name="org.dbunit" level="error"/>
</configuration>